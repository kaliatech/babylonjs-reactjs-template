import{r as h,j as o,R as b,a as g}from"./vendor-BsoQGpRC.js";import{E as v,S as y,A as R,V as u,H as w,a as x,b as O,C as l,M as E,c as d,d as f}from"./vendor_babylonjs-DyGShI1H.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}})();const p=1;class M{constructor(t){this.canvasEl=t,console.log("BabylonApp, Engine.init"),this.engine=new v(this.canvasEl,!0,{loseContextOnDispose:!0,adaptToDeviceRatio:!0}),this.scene=new y(this.engine),this._resizeObserver=new ResizeObserver(()=>{this.engine.resize()}),this._resizeObserver.observe(this.canvasEl),new R("Camera",-Math.PI/2+Math.PI/6,Math.PI/2-Math.PI/6,7,new u(0,0,0),this.scene).attachControl(!0);const i=new w("light1",new u(0,2,0),this.scene);i.intensity=.7,new x(this.scene,1),new O({createSkybox:!0,skyboxSize:30,groundColor:new l(.5,.5,.5)},this.scene);let e=E.CreateSphere("xSphere",{segments:16,diameter:p},this.scene);e.position.x=p*2,e.position.y=0,e.position.z=0;const s=new d("matR",this.scene);s.diffuseColor=new l(1,0,0),e.material=s,this.spheres.push(e),e=e.clone("ySphere",null),e.position.x=0,e.position.y=p*2,e.position.z=0;const r=new d("matG",this.scene);r.diffuseColor=new l(0,1,0),e.material=r,this.spheres.push(e),e=e.clone("zSphere",null),e.position.x=0,e.position.y=0,e.position.z=p*2;const c=new d("matB",this.scene);c.diffuseColor=new l(0,0,1),e.material=c,this.spheres.push(e),this.beforeRenderObv=this.scene?.onBeforeRenderObservable.add(()=>this.beforeRender()),this.engine.runRenderLoop(()=>{this.scene?.render()})}beforeRenderObv;engine;scene;_resizeObserver;spheres=[];elapsedTime=0;beforeRender(){if(!this.scene||this.scene.isDisposed)return;const n=this.scene.getEngine().getDeltaTime();this.elapsedTime+=n;const i=2e3,e=this.elapsedTime%i/i;let s;const r=0,c=p*4;e<.5?s=f.Lerp(r,c,e):s=f.Lerp(c,r,e),this.spheres[0].position.x=s,this.spheres[1].position.y=s,this.spheres[2].position.z=s}dispose(){console.log("BabylonApp, dispose"),this.beforeRenderObv&&this.scene?.onBeforeRenderObservable.remove(this.beforeRenderObv),this.spheres.forEach(t=>{t.dispose(!1,!0)}),this.spheres=[],this.scene?.dispose(),this.engine?.stopRenderLoop(),this.engine?.dispose()}}const C="_app_da86z_1",z="_canvas_da86z_22",m={app:C,canvas:z};function S(){const a=h.useRef(null),t=h.useRef(null);return h.useEffect(()=>{if(!a.current)return;const n=document.createElement("canvas");return n.className=m.canvas,a.current.appendChild(n),t.current=new M(n),()=>{t.current?.dispose(),t.current=null,n.parentNode&&n.parentNode.removeChild(n)}},[]),o.jsxs("div",{className:m.app,children:[o.jsx("header",{children:o.jsx("h1",{children:"Babylon.js Test"})}),o.jsx("main",{className:"render-canvas-cont",ref:a})]})}b.createRoot(document.getElementById("root")).render(o.jsx(g.StrictMode,{children:o.jsx(S,{})}));
